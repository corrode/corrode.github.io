<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    <title>Rust vs C++: A Real-World Perspective | corrode Rust Consulting</title>
    <meta name="author" content="Corrode Rust Consulting">
    <meta name="description" content="The real-world implications of choosing a programming language over another are often nuanced.
This is especially true for the ongoing debate between Rust and C++.
It’s easy to get lost in theoretical arguments about safety, performance, and langu…">

    <!-- Open Graph tags -->
    <meta property="og:title" content="Rust vs C++: A Real-World Perspective | corrode Rust Consulting">
    <meta property="og:description" content="The real-world implications of choosing a programming language over another are often nuanced.
This is especially true for the ongoing debate between Rust and C++.
It’s easy to get lost in theoretical arguments about safety, performance, and langu…">
    <meta property="og:image" content="https:&#x2F;&#x2F;corrode.dev&#x2F;blog&#x2F;cpp-rust-interop&#x2F;social.png">
    <meta property="og:url" content="https:&#x2F;&#x2F;corrode.dev&#x2F;blog&#x2F;cpp-rust-interop&#x2F;">
    <meta property="og:site_name" content="Corrode Rust Consulting">
    <meta property="og:type" content="website">
    <meta name="publish_date" property="og:publish_date" content="2024-08-14">

    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Rust vs C++: A Real-World Perspective | corrode Rust Consulting">
    <meta name="twitter:description" content="The real-world implications of choosing a programming language over another are often nuanced.
This is especially true for the ongoing debate between Rust and C++.
It’s easy to get lost in theoretical arguments about safety, performance, and langu…">
    <meta name="twitter:image" content="https:&#x2F;&#x2F;corrode.dev&#x2F;blog&#x2F;cpp-rust-interop&#x2F;social.png">

    <link rel="stylesheet" type="text/css" href="/syntax-theme-dark-custom.css" media="(prefers-color-scheme: dark)" />
    <link rel="stylesheet" type="text/css" href="/syntax-theme-light-custom.css" media="(prefers-color-scheme: light)" />
    <link rel="stylesheet" type="text/css" href="/style.css" />

    <link rel="me" href="https://mastodon.social/@mre">
    <link rel="alternate" type="application/rss+xml" title="corrode RSS feed" href="/rss.xml">

    <script type="module" src="https://oxitraffic-corrode-dev.mo8it.com/count.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    
    <script src="/scripts/clipboard.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://corrode.dev/blog/cpp-rust-interop/"
      },
      "headline": "Rust vs C++: A Real-World Perspective",
      "description": "The real-world implications of choosing a programming language over another are often nuanced.
This is especially true for the ongoing debate between Rust and C++.
It’s easy to get lost in theoretical arguments about safety, performance, and langu…",
      
      "image": "https://corrode.dev/hero.svg",
      
      "author": {
        "@type": "Person",
        "name": "Matthias Endler"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Corrode Consulting",
        "logo": {
          "@type": "ImageObject",
          "url": "https://corrode.dev/corrode.svg"
        }
      },
      "datePublished": "2024-08-14",
      
      "dateModified": "2024-08-14"
      
    }
    </script>

</head>
<body>
    <div class="app">
        <nav>
            <!-- Logo and Home Link -->
            <div>
                <a  class="nav-item" 
                    href="https://corrode.dev/">
                    <span class="logo">
                        
                        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="85" viewBox="0 0 200 85.5"><path d="m165.192 18.534-6.6.03v20.6c-8.634-5.485-23.28-1.166-23.28 12.48 0 20.182 30.335 18.865 29.88-.01zM43.093 36.7c-8.148 0-14.96 5.716-14.96 14.79 0 8.599 6.367 14.801 14.96 14.801 8.464 0 14.92-6.2 14.92-14.79 0-8.791-6.591-14.801-14.92-14.801m72.5 0c-6.784 0-14.614 4.16-14.97 14.79 0 8.748 6.556 14.801 14.97 14.801 8.474 0 14.93-6.212 14.93-14.79 0-8.87-6.698-14.801-14.93-14.801m-41.054.002c-6.02.032-11.877 4.563-11.707 11.739v17.85l6.683-.022-.25-15.927c0-7.276 5.415-7.84 8.31-7.39l2.9-4.657a11.5 11.5 0 0 0-5.936-1.593m17.917 0c-6.019.032-11.877 4.563-11.707 11.739v17.85l6.683-.022-.25-15.927c0-7.276 5.415-7.84 8.311-7.39l2.9-4.657a11.5 11.5 0 0 0-5.937-1.593m-74.936.002c-7.362.053-14.377 5.52-14.377 14.945 0 14.417 15.027 17.221 22.82 12.59-1.16-1.52-2.078-3.198-2.891-4.92-5.261 2.648-13.32.717-13.32-7.87 0-8.528 8.048-10.399 13.21-7.84.52-1.397 2.136-4.165 3.07-5.04-2.279-1.243-4.835-1.892-8.512-1.865m166.727.126c-6.922.155-14.114 5.18-14.114 14.8 0 14.198 14.814 17.353 22.83 12.588l-2.88-4.929c-5.135 2.544-11.713.7-13.04-5.21l19.7-2.829c1.078-9.86-5.574-14.575-12.496-14.42m.998 5.736c2.797-.086 5.255 1.465 6.568 4.8l-14.49 1.994c.679-4.107 4.325-6.683 7.922-6.794m-141.653.024c2.716 0 8.31 1.41 8.31 8.98 0 5.313-3.079 8.92-8.31 8.92-5.172 0-8.32-3.526-8.32-8.92 0-8.535 6.885-8.98 8.32-8.98m72.5 0c2.716 0 8.31 1.41 8.31 8.98 0 5.295-3.056 8.92-8.31 8.92-5.242 0-8.32-3.629-8.32-8.92 0-8.535 6.885-8.98 8.32-8.98m34.505.03c4.157.034 8.316 3.11 8.316 9.125 0 12.024-16.63 12.05-16.63 0 0-6.152 4.156-9.16 8.314-9.126m2226.692-755.486h6.52c0-12.105-1.226-24.512 8.22-21.981l3.6-5.43c-20.776-6.381-18.34 15.492-18.34 27.41"/></svg>
                    </span>
                </a>
            </div>

            <input id="menu-toggle" type="checkbox" />
            <label class="menu-button-container" for="menu-toggle">
                <div class="menu-button"></div>
            </label>

            <!-- Menu Items -->
            <ul class="menu">
                <li>
                    <!-- Theme Toggle -->
                    <a href="javascript:toggleColorScheme();">
                        <span id="icon-moon">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" d="M12 22c5.523 0 10-4.477 10-10 0-.463-.694-.54-.933-.143a6.5 6.5 0 1 1-8.924-8.924C12.54 2.693 12.463 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10"/></svg>
                        </span>
                        <span id="icon-sun">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#000" d="M17 12a5 5 0 1 1-10 0 5 5 0 0 1 10 0"/><path fill="#000" fill-rule="evenodd" d="M12 1.25a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0V2a.75.75 0 0 1 .75-.75M3.669 3.716a.75.75 0 0 1 1.06-.047L6.95 5.7a.75.75 0 1 1-1.012 1.107L3.716 4.776a.75.75 0 0 1-.047-1.06m16.662 0a.75.75 0 0 1-.047 1.06l-2.222 2.031A.75.75 0 0 1 17.05 5.7l2.222-2.031a.75.75 0 0 1 1.06.047M1.25 12a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1-.75-.75m18 0a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75m-2.224 5.025a.75.75 0 0 1 1.06 0l2.222 2.223a.75.75 0 0 1-1.06 1.06l-2.222-2.222a.75.75 0 0 1 0-1.06m-10.051 0a.75.75 0 0 1 0 1.061l-2.223 2.222a.75.75 0 0 1-1.06-1.06l2.222-2.223a.75.75 0 0 1 1.06 0M12 19.25a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75" clip-rule="evenodd"/></svg>
                        </span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item" 
                        href="https://corrode.dev/"><span>Home</span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item" 
                        href="https://corrode.dev/learn">
                        <span>Learn</span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item active" 
                        href="https://corrode.dev/blog">
                        <span>Blog</span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item" 
                        href="https://corrode.dev/podcast">
                        <span>Podcast</span>
                    </a>
                </li>
                <li>
                    <a href="https://corrode.dev/services" class="cta-button">
                        <span>Consulting</span>
                    </a>
                </li>
            </ul>
        </nav>

        <main class="container">
            
<article>
  <div class="article-heading">
    <h2 class="subheading">
      <a href="https://corrode.dev/blog">Rust Insights</a>
    </h2>
    <h1>Rust vs C++: A Real-World Perspective</h1>
    <div class="article-date">
      <span class="icon-calendar"></span>
      <span>
        
          Published: 2024-08-14
        
      </span>
    </div>
    
    <div class="article-hero">
      <img
        
        src="hero.svg" alt="Rust vs C++: A Real-World Perspective" />
    </div>
    
  </div>
  <div class="article-content-wrapper">
    
    <div class="article-content">
    

      <p>The real-world implications of choosing a programming language over another are often nuanced.
This is especially true for the ongoing debate between Rust and C++.
It’s easy to get lost in theoretical arguments about safety, performance, and language features,
but what does it really boil down to when rubber hits the road?</p>
<p>I recently sat down with <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://tylerjw.dev">Tyler Weaver</a>,
Co-Organizer of the <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://www.meetup.com/boulder-rust-meetup/">Boulder Rust Meetup</a>
and software engineer with a decade of C++ experience and several years of Rust under his belt. He shared some great insights on the practical aspects of working with both languages in production, which I thought would be valuable to share.</p>
<p>While Tyler’s perspective is based on his personal experience, I believe his insights are quite valuable for anyone looking for hands-on experiences with both languages.
The quotes below are taken verbatim from our conversation.</p>
<h2 id="rust-is-a-force-multiplier"><a class="zola-anchor" href="#rust-is-a-force-multiplier" aria-label="Anchor link for: rust-is-a-force-multiplier">Rust is a Force Multiplier</a></h2>
<p>One of Tyler’s most striking observations is that “Rust is a force multiplier.” In C++ projects, developers often find themselves barely having time to get things working, let alone optimizing or improving their code. Rust, on the other hand, handles many low-level details by design, allowing developers to focus on higher-level concerns instead.
As Tyler puts it, you can “spend more time on useful things because Rust handles the details for you.”</p>
<p>This effect extends to code reviews as well. Tyler estimates that “code reviews take half the time” in Rust compared to C++. This efficiency gain is not just about saving time; it allows for more thorough reviews and potentially catches more issues before they make it into production.</p>
<p>This aligns well with an <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://youtu.be/6mZRWFQRvmw?t=27012">observation by Google</a> on re-writing C++ into Rust:</p>
<blockquote>
<p>In every case, we’ve seen a decrease by more than 2x in the amount of effort required to both
build the services written in Rust, as well as maintain and update those services. […]
C++ is very expensive for us to maintain.</p>
</blockquote>
<h2 id="painless-refactoring"><a class="zola-anchor" href="#painless-refactoring" aria-label="Anchor link for: painless-refactoring">Painless Refactoring</a></h2>
<p>Perhaps one of the areas where Rust shines the most is during large-scale refactoring.
Tyler emphasizes that “Rust makes refactoring painless” and allows developers to “trust your refactors.” This “worry-free refactoring” is a stark contrast to C++, where making significant changes can be risky and time-consuming.</p>
<p>“In C++, removing things is so expensive,” both in terms of development time and the potential for introducing bugs. Rust’s ownership system and compiler checks make it much easier to make sweeping changes with confidence. This capability is particularly valuable for large-scale projects where regular refactoring is essential for maintaining code quality and adapting to changing requirements.</p>
<p><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://news.ycombinator.com/item?id=21980890">Mozilla twice attempted to parallelize Firefox’s CSS layout engine in C++</a>, but abandoned both efforts.
Eventually, they succeeded on the third attempt using Rust in the Servo project, which was later integrated into Firefox as part of <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/">Project Quantum</a>.
The team credited Rust’s safety guarantees as the reason why they were able to be successful on the third attempt. Here’s the section from the <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://www.youtube.com/watch?v=Y6SSTRr2mFU">talk</a> by Josh Matthews from the Servo team.</p>
<p>Jeremy Soller from System76 recently <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://corrode.dev/podcast/s02e07-system76/?t=1%3A13%3A18">shared a similar sentiment in our Rust in Production podcast</a>:</p>
<blockquote>
<p>Rust [has] capability [of] doing extremely, extremely concurrent things safely. There was no way to write this kind of code in C or C++ without considerable time planning beforehand.</p>
</blockquote>
<h2 id="the-cost-of-complexity"><a class="zola-anchor" href="#the-cost-of-complexity" aria-label="Anchor link for: the-cost-of-complexity">The Cost of Complexity</a></h2>
<p>Tyler points out that “accidental complexity is quite high in C++.” This complexity often manifests in subtle ways that can accumulate over time, making codebases increasingly difficult to maintain.
In our conversation, Tyler mentioned that there is a lot of upfront knowledge required to be productive in C++.
One has to read a lot of books and watch talks to become an expert because a lot of the best practices are passed on
as tribal knowledge and there is a lot of historical baggage in C++.</p>
<p>In contrast, Rust’s design encourages simplicity and clarity from the start, allowing developers to “focus on the right things.”</p>
<p>Tyler emphasizes that “none of our software projects are as simple as they could be.” Rust’s approach to memory management and its emphasis on explicit handling of side effects can lead to simpler, more maintainable code structures.</p>
<p>If you are curious to learn more about maintaining large C++ codebases and migrating to Rust, listen to <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://corrode.dev/podcast/s02e03-thunderbird">this interview with Brendan Abolivier from Thunderbird</a> from our “Rust in Production” podcast series.</p>
<h2 id="tooling"><a class="zola-anchor" href="#tooling" aria-label="Anchor link for: tooling">Tooling</a></h2>
<p>Better tooling leads to better projects, and Rust has a significant edge in this area. From cargo, Rust’s package manager and build tool, to the language server protocol implementation, Rust’s tooling ecosystem is modern and integrated. This cohesive tooling environment contributes to more efficient development workflows and higher-quality output.</p>
<h2 id="acknowledging-rust-s-current-limitations"><a class="zola-anchor" href="#acknowledging-rust-s-current-limitations" aria-label="Anchor link for: acknowledging-rust-s-current-limitations">Acknowledging Rust’s Current Limitations</a></h2>
<p>While Tyler’s perspective paints a very positive picture of Rust, it’s important to address some common criticisms of the language:</p>
<ol>
<li>
<p><strong>Learning Curve</strong>: Rust is known for having a steeper learning curve than C++, particularly for developers accustomed to more traditional programming paradigms. The borrow checker, while powerful, can be frustrating for newcomers.
However, according to Google’s experience, more than 2/3 of respondents are confident in contributing to a Rust codebase within two months or less when learning Rust. Further, a third of respondents become as productive using Rust as other languages in two months or less. Within four months, that number increased to over 50%.
Read more about the learning curve in <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://corrode.dev/blog/why-rust/">Why Rust</a>.</p>
</li>
<li>
<p><strong>Ecosystem Maturity</strong>: Rust’s ecosystem is still not as mature yet as C++’s in some domains. Certain specialized libraries or frameworks may not be available or as feature-complete in Rust.</p>
</li>
<li>
<p><strong>Industry Adoption</strong>: Despite growing interest, Rust has not yet achieved the same level of industry-wide adoption as C++, which may be a consideration for some projects or companies. C++ is still dominant in domains like game development, high-performance computing, and embedded systems.</p>
</li>
</ol>
<h2 id="c-and-rust-interop"><a class="zola-anchor" href="#c-and-rust-interop" aria-label="Anchor link for: c-and-rust-interop">C++ and Rust Interop</a></h2>
<p>Recognizing that a complete switch from C++ to Rust is not always feasible or desirable, Tyler suggests that “dumb interop is the best strategy for C++ and Rust to work together.” This approach allows teams to gradually introduce Rust into existing C++ codebases, leveraging the strengths of both languages. He mentioned, that while people often raise concerns about C++/Rust interop, it’s rarely an issue in practice.</p>
<p>Tyler wrote a series of blog posts on <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://tylerjw.dev/posts/rust-cpp-interop/">Rust and C++ interop</a> that go into great detail about integrating Rust into C++ projects, which covers FFI bindings, CMake (a build system generator for C++ projects), Cxx (a code generation tool), Conan (a C++ package manager), and more.</p>
<p>It is recommended to start with the most safety-critical or unreliable parts of your codebase:</p>
<blockquote>
<p>What you have to do is think about how important security is at each level of the stack and how to address it in small incremental ways. - <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://corrode.dev/podcast/s02e07-system76/?t=47%3A52">Jeremy Soller in the Rust in Production podcast</a></p>
</blockquote>
<h2 id="summary"><a class="zola-anchor" href="#summary" aria-label="Anchor link for: summary">Summary</a></h2>
<p>Here are some key takeaways from Tyler’s experiences with Rust and C++:</p>
<ul>
<li>You have more time to focus on the big picture when using Rust.</li>
<li>Refactoring is easier and less risky in Rust.</li>
<li>Removing things is hard in C++. It’s easier in Rust thanks to the borrow checker.</li>
<li>Rust doesn’t have the historical baggage of C++. It comes with sane defaults.</li>
<li>Rust’s integrated tooling contributes to more efficient development workflows.</li>
<li>Interop between Rust and C++ is best done by keeping interfaces simple.</li>
</ul>
<p>As Tyler’s experiences illustrate, the benefits of Rust often become most apparent in the “day two operations” of software development – in code reviews, refactoring, and managing complexity.</p>
<div class="info">
  
  <div class="info-header">
    
      <span class="icon icon-crab"></span>
    
    <h4><p>Make the most of Rust</p>
</h4>
  </div>
  
  <p>Is your company considering to migrate from C++ to Rust?
I offer consulting services to get you up to speed with your Rust projects, from training your team to code reviews and architecture consulting.
Check out my <a href="/services">services page</a> to learn more.</p>

</div>
<h2 id="recommended-reading"><a class="zola-anchor" href="#recommended-reading" aria-label="Anchor link for: recommended-reading">Recommended Reading</a></h2>
<p>For those interested in diving deeper into the topics discussed in this article, here are a few book recommendations:</p>
<ul>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://www.manning.com/books/grokking-simplicity">“Grokking Simplicity”</a> by Eric Normand. Published by Manning.</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://www.oreilly.com/library/view/programming-rust-2nd/9781492052586/">“Programming Rust”</a> by Jim Blandy and Jason Orendorff. Published by O’Reilly.</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://www.oreilly.com/library/view/effective-modern-c/9781491908419/">“Effective Modern C++”</a> by Scott Meyers. Published by O’Reilly.</li>
</ul>
<p>These three books teach you how to write clean, maintainable code no matter the language.</p>
<p>If you like to learn more about Tyler’s work, check out his <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://tylerjw.dev/">blog</a> and GitHub <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/tylerjw">profile</a>.</p>

    </div>
  </div>

  <div class="article-footer">
     
    

    <div class="social">
      <div class="share-icons"><a
  href="https://mastodonshare.com/?text=https:&#x2F;&#x2F;corrode.dev&#x2F;blog&#x2F;cpp-rust-interop&#x2F;+%0A%23rust"
  title="Share on Mastodon"
  target="_blank"
>
  <svg
    width="32px"
    height="32px"
    viewBox="0 0 512 512"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M480 174c0-105-68-135-68-135-35-16-94-22-155-23h-2c-61 1-120 7-155 23 0 0-68 30-68 135v82c3 102 19 202 113 227 44 12 81 14 111 13 55-3 85-20 85-20l-2-39s-39 12-82 10c-44-1-89-4-96-57a108 108 0 0 1-1-15 559 559 0 0 0 96 13c33 1 64-2 95-6 60-7 113-44 119-78 11-54 10-130 10-130Zm-81 134h-50V185c0-25-10-39-32-39-24 0-36 16-36 47v67h-50v-67c0-31-12-47-36-47-22 0-32 14-32 39v123h-50V182q0-39 19-62c14-15 32-23 54-23 25 0 45 10 58 30l12 21 12-21c13-20 33-30 58-30 22 0 40 8 54 23q20 23 19 62Z"
    ></path>
  </svg>
</a>
<a
  href="https://reddit.com/r/rust/submit?url=https:&#x2F;&#x2F;corrode.dev&#x2F;blog&#x2F;cpp-rust-interop&#x2F;&title=Rust vs C++: A Real-World Perspective"
  onclick="window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"
  title="Share on Reddit"
  rel="noopener"
  title="Share on Reddit"
>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
    <path
      d="M6.24 9.6c-.158 0-.313-.0469-.444-.135s-.234-.213-.295-.359c-.0606-.146-.0764-.307-.0455-.462.0309-.155.107-.298.219-.41s.254-.188.41-.219c.155-.0309.316-.0151.462.0455.146.0605.271.163.359.295.0879.132.135.286.135.444 0 .105-.0207.209-.0609.306-.0402.0971-.0991.185-.173.26s-.162.133-.26.173c-.097.0402-.201.0609-.306.0609zM16 8c0 1.58-.469 3.13-1.35 4.44-.879 1.32-2.13 2.34-3.59 2.95-1.46.606-3.07.764-4.62.455-1.55-.309-2.98-1.07-4.1-2.19-1.12-1.12-1.88-2.54-2.19-4.1-.309-1.55-.15-3.16.455-4.62.606-1.46 1.63-2.71 2.95-3.59s2.86-1.35 4.44-1.35c2.12 0 4.16.843 5.66 2.34 1.5 1.5 2.34 3.54 2.34 5.66zm-4.27-1.33c-.276.0162-.536.134-.73.33-.822-.544-1.78-.839-2.77-.85l.56-2.53 1.79.4c-.0013.105.0181.208.0572.305.0392.097.0971.185.171.26s.161.134.258.174c.0965.0403.2.0611.305.0611.213-.00263.417-.0891.566-.241.15-.152.234-.356.234-.569.006-.183-.0517-.362-.163-.507-.112-.145-.27-.247-.448-.288s-.365-.0195-.529.0618c-.164.0812-.294.217-.37.384l-2-.44c-.0476-.00913-.0969.00027-.138.0263s-.0703.0667-.0822.114l-.62 2.79c-.985.0141-1.95.309-2.77.85-.108-.112-.24-.199-.385-.254s-.301-.0793-.456-.0687c-.155.0105-.306.0547-.443.13-.136.0749-.255.179-.347.304-.0922.125-.156.269-.187.422s-.028.31.00821.461.105.293.202.415.219.222.358.292c-.0153.166-.0153.334 0 .5 0 1.69 1.91 3.07 4.26 3.07 2.35 0 4.26-1.38 4.26-3.07.0004-.172-.0198-.343-.06-.51.202-.114.362-.292.454-.505.0926-.213.113-.45.0592-.676-.0542-.226-.18-.428-.36-.576-.179-.148-.402-.233-.634-.244zm-2.22 3.75c-.449.282-.969.432-1.5.432s-1.05-.15-1.5-.432c-.0369-.0337-.085-.0524-.135-.0524s-.0981.0187-.135.0524c-.0194.0178-.0349.0394-.0455.0635s-.016.0502-.016.0765.0054.0524.016.0765.0261.0457.0455.0635c.525.356 1.15.547 1.78.547s1.25-.19 1.78-.547c.0194-.0178.0349-.0394.0455-.0635s.0161-.0502.0161-.0765-.0055-.0524-.0161-.0765-.0261-.0457-.0455-.0635c-.0187-.0197-.0412-.0353-.0661-.046s-.0518-.0163-.0789-.0163-.054.0056-.0789.0163-.0474.0263-.0661.046zM9.76 8c-.158 0-.313.0469-.444.135-.132.0879-.234.213-.295.359-.0605.146-.0764.307-.0455.462.0308.155.107.298.219.41s.254.188.41.219c.155.0309.316.0151.462-.0455.146-.0605.271-.163.359-.295.0879-.132.135-.286.135-.444 0-.212-.0843-.416-.234-.566s-.353-.234-.566-.234z"
    />
  </svg>
</a>

<a
  href="https://news.ycombinator.com/submitlink?u=https:&#x2F;&#x2F;corrode.dev&#x2F;blog&#x2F;cpp-rust-interop&#x2F;&t=Rust vs C++: A Real-World Perspective"
  target="_blank"
  title="Share on Hacker News"
>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
    <path
      d="M32 32v448h448V32Zm249.67 250.83v84H235v-84l-77-140h55l46.32 97.54 44.33-97.54h52.73Z"
    />
  </svg>
</a>

<a href="/rss.xml" target="_blank" title="Subscribe to RSS feed">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill-rule="evenodd"
    clip-rule="evenodd"
    image-rendering="optimizeQuality"
    shape-rendering="geometricPrecision"
    text-rendering="geometricPrecision"
    viewBox="0 0 640 640"
  >
    <path
      d="M116 449c-40.8 0-73.9 33.2-73.9 73.7 0 40.7 33.1 73.6 73.9 73.6 40.9 0 74-32.9 74-73.6 0-40.5-33.1-73.7-74-73.7zM42.2 231v106c69.3 0 134 27.1 183 76.2 49 48.9 76 114 76 184h107c0-202-164-366-366-366v-.0312zm.133-189v106c247 0 448 201 448 449l107 .0104c0-306-249-555-555-555z"
    />
  </svg>
</a>
</div>
      <div class="editor-credits"><article class="metadata">
    <div class="published">
        <time datetime="2024-08-14">
            Published: 2024-08-14
        </time>
    </div>
    
    <div>
        <a href="https://github.com/corrode/corrode.github.io/commits/master/content/&#x2F;blog&#x2F;cpp-rust-interop&#x2F;">Full git revision history</a>
    </div>

    <div class="authors">
        <span>Author:</span>
        <a href="/services">Matthias Endler</a>
    </div>

    <div class="editor">
        <span>Editor:</span>
        <a
            href="https://hachyderm.io/@m3t0r"
            target="_blank"
            rel="noopener noreferrer"
        >
            Simon Brüggen
        </a>
    </div>

     
    <div class="credits">
        <span>Credits:</span>
         <a href='https://www.freepik.com'>Image by vectorpouch on Freepik</a>
    </div>
    
</article>
</div>
    </div>

    <div class="newsletter-callout">
  <h2>Idiomatic Rust content. Straight to your inbox.</h2>
  <p>
    I regularly write new articles on idiomatic Rust. If you want to be notified
    when I publish them, you should sign up to my newsletter here. No spam.
    Unsubscribe at any time.
  </p>
  <div id="subscription-section">
    <form
      id="newsletter-form"
      action="https://corrode-newsletter.fly.dev/subscribe"
      method="post"
    >
      <input
        type="email"
        name="email"
        placeholder="mail@example.com"
        required
        id="tlemail"
      />
      <div style="display: none">
        <input type="text" name="hpfield" value="" />
      </div>
      <button type="submit" id="submit-btn">
        <span id="button-text">Subscribe</span>
        <div id="spinner" style="display: none">
          <div
            style="
              display: inline-block;
              width: 16px;
              height: 16px;
              border: 2px solid rgba(255, 255, 255, 0.3);
              border-top: 2px solid white;
              border-radius: 50%;
              animation: spin 1s linear infinite;
              margin-right: 8px;
            "
          ></div>
          Subscribing...
        </div>
      </button>
    </form>
  </div>
</div>

<style>
  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>

<script>
  document
    .getElementById("newsletter-form")
    .addEventListener("submit", function (e) {
      e.preventDefault(); // Prevent the default form submission

      // Show spinner and hide button text
      document.getElementById("button-text").style.display = "none";
      document.getElementById("spinner").style.display = "inline-block";
      document.getElementById("submit-btn").disabled = true;

      const formData = new FormData(this);
      fetch("https://corrode-newsletter.fly.dev/subscribe", {
        method: "POST",
        body: new URLSearchParams(formData),
        headers: {
          "Content-Type": "application/x-www-form-urlencoded",
        },
      })
        .then((response) => {
          if (response.ok) {
            document.getElementById("subscription-section").innerHTML =
              "<p><b>Thank you for subscribing!</b></p>";
          } else {
            throw new Error("Server responded with an error"); // Forces catch block execution
          }
        })
        .catch((error) => {
          console.error("Error:", error);
          document.getElementById("subscription-section").innerHTML =
            "<p><b>There was a problem with your subscription. Please try again later.</b></p>";
        });
    });
</script>


    <div class="topbox">&uarr; <a href="#top">Back to top</a></div>
  </div>
</article>

        </main>
    
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column">
                <h3>Company</h3>
                <ul class="footer-links">
                    <li><a href="/services/">Consulting</a></li>
                    <li><a href="/blog/why-rust/">Why Rust?</a></li>
                    <li><a href="/quote/">Business Inquiries</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/podcast">Podcast</a></li>
                    <li><a href="/learn/case-studies/">Case Studies</a></li>
                    <li><a href="/blog/rust-conferences-2025/">Conferences</a></li>
                    <li><a href="/blog/idiomatic-rust-resources/">Learning Resources</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Migration Guides</h3>
                <ul class="footer-links">
                    <li><a href="/learn/migration-guides/python-to-rust/">Python</a></li>
                    <li><a href="/learn/migration-guides/typescript-to-rust/">TypeScript</a></li>
                    <li><a href="/learn/migration-guides/java-to-rust/">Java</a></li>
                    <li><a href="/learn/migration-guides/scala-to-rust/">Scala</a></li>
                    <li><a href="/learn/migration-guides/cpp-to-rust/">C++</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Connect</h3>
                <ul class="footer-links">
                    <li><a href="https://github.com/corrode">GitHub</a></li>
                    <li><a href="https://www.linkedin.com/company/corrode/">LinkedIn</a></li>
                    <li><a href="/legal/">Legal Notice</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        function getPreferredColorScheme() {
            let systemScheme = 'light';
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                systemScheme = 'dark';
            }
            let chosenScheme = systemScheme;

            if (localStorage.getItem("scheme")) {
                chosenScheme = localStorage.getItem("scheme");
            }

            if (systemScheme === chosenScheme) {
                localStorage.removeItem("scheme");
            }

            return chosenScheme;
        }

        function savePreferredColorScheme(scheme) {
            let systemScheme = 'light';

            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                systemScheme = 'dark';
            }

            if (systemScheme === scheme) {
                localStorage.removeItem("scheme");
            }
            else {
                localStorage.setItem("scheme", scheme);
            }
        }

        function toggleColorScheme() {
            let newScheme = "light";
            let scheme = getPreferredColorScheme();
            if (scheme === "light") {
                newScheme = "dark";
            }

            applyPreferredColorScheme(newScheme);
            savePreferredColorScheme(newScheme);
        }

        function applyPreferredColorScheme(scheme) {
            for (var s = 0; s < document.styleSheets.length; s++) {
                try {
                    var rules = document.styleSheets[s].cssRules;
                    for (var i = 0; i < rules.length; i++) {
                        var rule = rules[i];
                        if (rule && rule.media && rule.media.mediaText.includes("prefers-color-scheme")) {
                            switch (scheme) {
                                case "light":
                                    rule.media.appendMedium("original-prefers-color-scheme");
                                    if (rule.media.mediaText.includes("light")) rule.media.deleteMedium("(prefers-color-scheme: light)");
                                    if (rule.media.mediaText.includes("dark")) rule.media.deleteMedium("(prefers-color-scheme: dark)");
                                    break;
                                case "dark":
                                    rule.media.appendMedium("(prefers-color-scheme: light)");
                                    rule.media.appendMedium("(prefers-color-scheme: dark)");
                                    if (rule.media.mediaText.includes("original")) rule.media.deleteMedium("original-prefers-color-scheme");
                                    break;
                                default:
                                    rule.media.appendMedium("(prefers-color-scheme: dark)");
                                    if (rule.media.mediaText.includes("light")) rule.media.deleteMedium("(prefers-color-scheme: light)");
                                    if (rule.media.mediaText.includes("original")) rule.media.deleteMedium("original-prefers-color-scheme");
                                    break;
                            }
                        }
                    }
                } catch (e) {
                    // Ignore third-party stylesheets
                }
            }

            if (scheme === "dark") {
                document.getElementById("icon-moon").style.display = 'inline';
                document.getElementById("icon-sun").style.display = 'none';
            } else {
                document.getElementById("icon-sun").style.display = 'inline';
                document.getElementById("icon-moon").style.display = 'none';
            }
        }

        applyPreferredColorScheme(getPreferredColorScheme());
    </script>
</body>
</html>
