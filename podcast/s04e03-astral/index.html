<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    <title>Astral with Charlie Marsh - Rust in Production Podcast | corrode Rust Consulting</title>
    <meta name="author" content="Corrode Rust Consulting">
    <meta name="description" content="Up until a few years ago, Python tooling was a nightmare:
basic tasks like installing packages or managing Python versions was a pain.
The tools were brittle and did not work well together,
mired in a swamp of underspecified implementation defined behaviour.
Then, apparently suddenly, but in reality backed by years of ongoing work on formal interoperability specifications,
we saw a renaissance of new ideas in the Python ecosystem.
It started with Poetry and pipx and
continued with tooling written in Rust like rye, which later got incorporated into
Astral.
Astral in particular contributed a very important piece to the puzzle: uv
– an extremely fast Python package and project manager that supersedes all previous attempts;
For example, it is 10x-100x faster than pip.">

    <!-- Open Graph tags -->
    <meta property="og:title" content="Astral with Charlie Marsh - Rust in Production Podcast | corrode Rust Consulting">
    <meta property="og:description" content="Up until a few years ago, Python tooling was a nightmare:
basic tasks like installing packages or managing Python versions was a pain.
The tools were brittle and did not work well together,
mired in a swamp of underspecified implementation defined behaviour.
Then, apparently suddenly, but in reality backed by years of ongoing work on formal interoperability specifications,
we saw a renaissance of new ideas in the Python ecosystem.
It started with Poetry and pipx and
continued with tooling written in Rust like rye, which later got incorporated into
Astral.
Astral in particular contributed a very important piece to the puzzle: uv
– an extremely fast Python package and project manager that supersedes all previous attempts;
For example, it is 10x-100x faster than pip.">
    <meta property="og:image" content="https:&#x2F;&#x2F;corrode.dev&#x2F;podcast&#x2F;s04e03-astral&#x2F;social.png">
    <meta property="og:url" content="https:&#x2F;&#x2F;corrode.dev&#x2F;podcast&#x2F;s04e03-astral&#x2F;">
    <meta property="og:site_name" content="Corrode Rust Consulting">
    <meta property="og:type" content="website">
    <meta name="publish_date" property="og:publish_date" content="2025-05-15">

    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Astral with Charlie Marsh - Rust in Production Podcast | corrode Rust Consulting">
    <meta name="twitter:description" content="Up until a few years ago, Python tooling was a nightmare:
basic tasks like installing packages or managing Python versions was a pain.
The tools were brittle and did not work well together,
mired in a swamp of underspecified implementation defined behaviour.
Then, apparently suddenly, but in reality backed by years of ongoing work on formal interoperability specifications,
we saw a renaissance of new ideas in the Python ecosystem.
It started with Poetry and pipx and
continued with tooling written in Rust like rye, which later got incorporated into
Astral.
Astral in particular contributed a very important piece to the puzzle: uv
– an extremely fast Python package and project manager that supersedes all previous attempts;
For example, it is 10x-100x faster than pip.">
    <meta name="twitter:image" content="https:&#x2F;&#x2F;corrode.dev&#x2F;podcast&#x2F;s04e03-astral&#x2F;social.png">

    <link rel="stylesheet" type="text/css" href="/syntax-theme-dark-custom.css" media="(prefers-color-scheme: dark)" />
    <link rel="stylesheet" type="text/css" href="/syntax-theme-light-custom.css" media="(prefers-color-scheme: light)" />
    <link rel="stylesheet" type="text/css" href="/style.css" />

    <link rel="me" href="https://mastodon.social/@mre">
    <link rel="alternate" type="application/rss+xml" title="corrode RSS feed" href="/rss.xml">

    <script type="module" src="https://oxitraffic-corrode-dev.mo8it.com/count.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    
</head>
<body>
    <div class="app">
        <nav>
            <!-- Logo and Home Link -->
            <div>
                <a  class="nav-item" 
                    href="https://corrode.dev/">
                    <span class="logo">
                        
                        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="85" viewBox="0 0 200 85.5"><path d="m165.192 18.534-6.6.03v20.6c-8.634-5.485-23.28-1.166-23.28 12.48 0 20.182 30.335 18.865 29.88-.01zM43.093 36.7c-8.148 0-14.96 5.716-14.96 14.79 0 8.599 6.367 14.801 14.96 14.801 8.464 0 14.92-6.2 14.92-14.79 0-8.791-6.591-14.801-14.92-14.801m72.5 0c-6.784 0-14.614 4.16-14.97 14.79 0 8.748 6.556 14.801 14.97 14.801 8.474 0 14.93-6.212 14.93-14.79 0-8.87-6.698-14.801-14.93-14.801m-41.054.002c-6.02.032-11.877 4.563-11.707 11.739v17.85l6.683-.022-.25-15.927c0-7.276 5.415-7.84 8.31-7.39l2.9-4.657a11.5 11.5 0 0 0-5.936-1.593m17.917 0c-6.019.032-11.877 4.563-11.707 11.739v17.85l6.683-.022-.25-15.927c0-7.276 5.415-7.84 8.311-7.39l2.9-4.657a11.5 11.5 0 0 0-5.937-1.593m-74.936.002c-7.362.053-14.377 5.52-14.377 14.945 0 14.417 15.027 17.221 22.82 12.59-1.16-1.52-2.078-3.198-2.891-4.92-5.261 2.648-13.32.717-13.32-7.87 0-8.528 8.048-10.399 13.21-7.84.52-1.397 2.136-4.165 3.07-5.04-2.279-1.243-4.835-1.892-8.512-1.865m166.727.126c-6.922.155-14.114 5.18-14.114 14.8 0 14.198 14.814 17.353 22.83 12.588l-2.88-4.929c-5.135 2.544-11.713.7-13.04-5.21l19.7-2.829c1.078-9.86-5.574-14.575-12.496-14.42m.998 5.736c2.797-.086 5.255 1.465 6.568 4.8l-14.49 1.994c.679-4.107 4.325-6.683 7.922-6.794m-141.653.024c2.716 0 8.31 1.41 8.31 8.98 0 5.313-3.079 8.92-8.31 8.92-5.172 0-8.32-3.526-8.32-8.92 0-8.535 6.885-8.98 8.32-8.98m72.5 0c2.716 0 8.31 1.41 8.31 8.98 0 5.295-3.056 8.92-8.31 8.92-5.242 0-8.32-3.629-8.32-8.92 0-8.535 6.885-8.98 8.32-8.98m34.505.03c4.157.034 8.316 3.11 8.316 9.125 0 12.024-16.63 12.05-16.63 0 0-6.152 4.156-9.16 8.314-9.126m2226.692-755.486h6.52c0-12.105-1.226-24.512 8.22-21.981l3.6-5.43c-20.776-6.381-18.34 15.492-18.34 27.41"/></svg>
                    </span>
                </a>
            </div>

            <input id="menu-toggle" type="checkbox" />
            <label class="menu-button-container" for="menu-toggle">
                <div class="menu-button"></div>
            </label>

            <!-- Menu Items -->
            <ul class="menu">
                <li>
                    <!-- Theme Toggle -->
                    <a href="javascript:toggleColorScheme();">
                        <span id="icon-moon">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" d="M12 22c5.523 0 10-4.477 10-10 0-.463-.694-.54-.933-.143a6.5 6.5 0 1 1-8.924-8.924C12.54 2.693 12.463 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10"/></svg>
                        </span>
                        <span id="icon-sun">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#000" d="M17 12a5 5 0 1 1-10 0 5 5 0 0 1 10 0"/><path fill="#000" fill-rule="evenodd" d="M12 1.25a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0V2a.75.75 0 0 1 .75-.75M3.669 3.716a.75.75 0 0 1 1.06-.047L6.95 5.7a.75.75 0 1 1-1.012 1.107L3.716 4.776a.75.75 0 0 1-.047-1.06m16.662 0a.75.75 0 0 1-.047 1.06l-2.222 2.031A.75.75 0 0 1 17.05 5.7l2.222-2.031a.75.75 0 0 1 1.06.047M1.25 12a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1-.75-.75m18 0a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75m-2.224 5.025a.75.75 0 0 1 1.06 0l2.222 2.223a.75.75 0 0 1-1.06 1.06l-2.222-2.222a.75.75 0 0 1 0-1.06m-10.051 0a.75.75 0 0 1 0 1.061l-2.223 2.222a.75.75 0 0 1-1.06-1.06l2.222-2.223a.75.75 0 0 1 1.06 0M12 19.25a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75" clip-rule="evenodd"/></svg>
                        </span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item" 
                        href="https://corrode.dev/"><span>Home</span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item" 
                        href="https://corrode.dev/learn">
                        <span>Learn</span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item" 
                        href="https://corrode.dev/blog">
                        <span>Blog</span>
                    </a>
                </li>
                <li>
                    <a  class="nav-item active" 
                        href="https://corrode.dev/podcast">
                        <span>Podcast</span>
                    </a>
                </li>
                <li>
                    <a href="https://corrode.dev/services" class="cta-button">
                        <span>Consulting</span>
                    </a>
                </li>
            </ul>
        </nav>

        <main class="container">
            
<article class="section-wrapper">
    <h2 class="subheading"><a href="/podcast">Podcast</a></h2>
    <h1>
        Astral - Charlie Marsh,
        Founder &amp; CEO
    </h1>
    <div class="article-meta-top">
        <div class="article-meta-left">
            <code>S04 E03</code>
            Published on 2025-05-15
        </div>
        <ul>
            <li>
                <a
                    href="https://letscast.fm/podcasts/rust-in-production-82281512/feed"
                    ><img
                        class="invert"
                        src="/podcast/rss.svg"
                        alt="RSS"
                        width="30"
                        height="30"
                    />
                </a>
            </li>
            <li>
                <a
                    href="https://podcasts.apple.com/us/podcast/rust-in-production/id1720771330"
                    ><img
                        class="invert"
                        src="/podcast/apple.svg"
                        alt="Apple Podcasts"
                        width="30"
                        height="30"
                    />
                </a>
            </li>
            <li>
                <a href="https://open.spotify.com/show/0Hf6gWrzpSzXp1X0cebbsT"
                    ><img
                        class="invert"
                        src="/podcast/spotify.svg"
                        alt="Spotify"
                        width="30"
                        height="30"
                    />
                </a>
            </li>
            <li>
                <a
                    href="https://www.youtube.com/playlist?list=PLbWDhxwM_45lkJfL95zELDgO01mnrRQ6t"
                    ><img
                        class="invert"
                        src="/podcast/youtube.svg"
                        alt="YouTube"
                        width="40"
                        height="40"
                    />
                </a>
            </li>
        </ul>
    </div>
    <div><div><script id="letscast-player-7b80a2f5" src="https://letscast.fm/podcasts/rust-in-production-82281512/episodes/uv-with-charlie-marsh/player.js?size=s"></script></div>
<p>Up until a few years ago, Python tooling was a nightmare:
basic tasks like installing packages or managing Python versions was a pain.
The tools were brittle and did not work well together,
mired in a swamp of underspecified implementation defined behaviour.</p>
<p>Then, apparently suddenly, but in reality backed by years of ongoing work on formal interoperability specifications,
we saw a renaissance of new ideas in the Python ecosystem.
It started with <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://python-poetry.org/">Poetry</a> and <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://pypa.github.io/pipx/">pipx</a> and
continued with tooling written in Rust like <a class="external-link" rel="noopener noreferrer" target="_blank" href="https://rye.astral.sh/">rye</a>, which later got incorporated into
<a class="external-link" rel="noopener noreferrer" target="_blank" href="https://astral.sh/">Astral</a>.</p>
<p>Astral in particular contributed a very important piece to the puzzle: <code>uv</code>
– an extremely fast Python package and project manager that supersedes all previous attempts;
For example, it is 10x-100x faster than pip.</p>
<span id="continue-reading"></span>
<p>In this episode I talk to Charlie Marsh, the Founder and CEO of Astral.
We talk about Astral’s mission and how Rust plays an important role in it.</p>
<div class="info dashed">
  <div class="info-header">
    <i class="icon icon-info"></i>
    <h4>Proudly Supported by CodeCrafters</h4>
  </div>
  <p>
    CodeCrafters helps you become proficient in Rust by building real-world,
    production-grade projects. Learn hands-on by creating your own shell, HTTP
    server, Redis, Kafka, Git, SQLite, or DNS service from scratch.
  </p>
  <p>
    Start for free today and enjoy 40% off any paid plan by using
    <a href="https://app.codecrafters.io/join?via=mre">this link</a>.
  </p>
</div>
<h2 id="show-notes">Show Notes</h2>
<h3 id="about-astral">About Astral</h3>
<p>Astral is a company that builds tools for Python developers.
What sounds simple is actually a very complex problem:
Python’s ecosystem is huge, but fragmented and often incompatible.
Astral’s mission is to make the Python ecosystem more productive by building high-performance developer tools, starting with Ruff.
In their words: “Fast, unified, futuristic.”</p>
<h3 id="about-charlie-marsh">About Charlie Marsh</h3>
<p>Charlie is a long-time open source developer and entrepreneur.
He has an impressive CV, graduating with highest honors from Princeton University.
After that, he worked at Khan Academy and others before eventually founding Astral in ’22.
Charlie is an engaging speaker and a great communicator.</p>
<h3 id="links-from-the-episode">Links From The Episode</h3>
<ul>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://docs.astral.sh/ruff/">ruff</a> - Python static linter and formatter written in Rust</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://docs.astral.sh/uv/">uv</a> - Python package and project manager written in Rust</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/rust-lang/rustfmt">rustfmt</a> - Rust code formatter</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/rust-lang/rust-clippy/">clippy</a> - Linter for Rust code</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://doc.rust-lang.org/book/ch14-03-cargo-workspaces.html">The Rust Programming Language: Cargo Workspaces</a> - The Rust Book’s chapter on workspaces</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://pip.pypa.io/en/stable/">pip</a> - The standard Package Installer for Python</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://pip.pypa.io/en/stable/reference/requirements-file-format/">pip documentation: Requirements File Format</a> - A description of the format of requirements.txt, including a list of embedded CLI options</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/astral-sh/uv/tree/main/.github/workflows">uv’s CI</a> - Build scripts for many different platforms</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://jemalloc.net/">jemalloc</a> - Alternative memory allocator</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/seanmonstar/reqwest">reqwest</a> - An easy and powerful Rust HTTP Client</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/zlib-ng/zlib-ng">zlib-ng</a> - Next Generation zlib implementation in C</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/trifectatechfoundation/zlib-rs">zlib-rs</a> - Pure Rust implementation of zlib</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://developer.apple.com/tutorials/instruments">XCode Instruments</a> - Native macOS performance profiler</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://codspeed.io/">CodSpeed</a> - Continuous benchmarking in CI</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/sharkdp/hyperfine">hyperfine</a> - “macro benchmarking” tool, coincidentally written in Rust</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/mstange/samply">samply</a> - Sampling based profiler written in Rust</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/flamegraph-rs/flamegraph">cargo flamegraph</a> - Cargo profiling plugin</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://tokio.rs">tokio</a> - Asynchronous runtime for Rust</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/alexcrichton/curl-rust">curl-rust</a> - Network API used in cargo</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/alexcrichton/tar-rs">tar-rs</a> - Sync tar crate</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/dignifiedquire/async-tar">async-tar</a> - Async tar crate based on the async_std runtime</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/vorot93/tokio-tar">tokio-tar</a> - Async tar crate based on tokio</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/astral-sh/tokio-tar">astral-tokio-tar</a> - Async tar crate based on tokio, maintained by Astral</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://rustpython.github.io/">RustPython</a> - Python interpreter written in Rust</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/lalrpop/lalrpop">lalrpop</a> - The parser generator used by RustPython</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://youtu.be/zOY9mc-zRxk">Charlie’s EuroRust 2024 Talk</a> - Mentions the version number parser at 18:45</li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/BurntSushi/ripgrep">ripgrep</a> - Andrew Gallant’s idiomatic Rust project, which also happens to be a very fast CLI file search tool</li>
</ul>
<h3 id="official-links">Official Links</h3>
<ul>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://astral.sh/">Astral</a></li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://crmarsh.com/">Charlie’s Website</a></li>
<li><a class="external-link" rel="noopener noreferrer" target="_blank" href="https://github.com/charliermarsh">Charlie on GitHub</a></li>
</ul>
</div>

    <div>
        <h3>About corrode</h3>
        <p>
            "Rust in Production" is a podcast by corrode, a company that helps
            teams adopt Rust. We offer training, consulting, and development
            services to help you succeed with Rust. If you want to learn more
            about how we can help you, please
            <a href="/services">get in touch</a>.
        </p>
    </div>

    <div class="podcast-callout">
  <h2>Subscribe to Rust In Production</h2>
  <p>
    Rust in Production is a bi-weekly podcast by corrode. New episodes are
    released every other Thursday at 4pm UTC. You can subscribe to new episodes
    on
    <a
      href="https://podcasts.apple.com/us/podcast/rust-in-production/id1720771330"
      >Apple</a
    >,
    <a href="https://open.spotify.com/show/0Hf6gWrzpSzXp1X0cebbsT">Spotify</a>,
    <a
      href="https://www.youtube.com/playlist?list=PLbWDhxwM_45lkJfL95zELDgO01mnrRQ6t"
      >YouTube</a
    >,
    <a
      href="https://podcasters.amazon.com/podcasts/acc3a064-4c50-42de-940e-61726d73514a"
      >Amazon</a
    >, through our
    <a href="https://letscast.fm/podcasts/rust-in-production-82281512/feed"
      >RSS feed</a
    >, or <a href="https://pod.link/aHR0cHM6Ly9sZXRzY2FzdC5mbS9wb2RjYXN0cy9ydXN0LWluLXByb2R1Y3Rpb24tODIyODE1MTIvZmVlZA">any other platform</a>.
  </p>
  <ul>
    <li>
      <a
        href="https://podcasts.apple.com/us/podcast/rust-in-production/id1720771330"
        ><img
          class="invert"
          src="/podcast/apple.svg"
          alt="Apple Podcasts"
          width="30"
          height="30"
        />
        <span>Apple Podcasts</span>
      </a>
    </li>
    <li>
      <a href="https://open.spotify.com/show/0Hf6gWrzpSzXp1X0cebbsT">
        <img
          class="invert"
          src="/podcast/spotify.svg"
          alt="Spotify"
          width="30"
          height="30"
        />
        <span>Spotify</span>
      </a>
    </li>
    <li>
      <a
        href="https://www.youtube.com/playlist?list=PLbWDhxwM_45lkJfL95zELDgO01mnrRQ6t"
        ><img
          class="invert"
          src="/podcast/youtube.svg"
          alt="YouTube"
          width="30"
          height="30"
        />
        <span>YouTube</span>
      </a>
    </li>
    <li>
      <a href="https://letscast.fm/podcasts/rust-in-production-82281512/feed">
        <img
          class="invert"
          src="/podcast/rss.svg"
          alt="RSS"
          width="30"
          height="30"
        />
        <span>RSS</span>
      </a>
    </li>
  </ul>
</div>


    <div class="topbox">&uarr; <a href="#top">Back to top</a></div>
</article>

        </main>
    
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column">
                <h3>Company</h3>
                <ul class="footer-links">
                    <li><a href="/services/">Consulting</a></li>
                    <li><a href="/blog/why-rust/">Why Rust?</a></li>
                    <li><a href="/quote/">Business Inquiries</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/podcast">Podcast</a></li>
                    <li><a href="/learn/case-studies/">Case Studies</a></li>
                    <li><a href="/blog/rust-conferences-2025/">Conferences</a></li>
                    <li><a href="/blog/idiomatic-rust-resources/">Learning Resources</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Migration Guides</h3>
                <ul class="footer-links">
                    <li><a href="/learn/migration-guides/python-to-rust/">Python</a></li>
                    <li><a href="/learn/migration-guides/typescript-to-rust/">TypeScript</a></li>
                    <li><a href="/learn/migration-guides/java-to-rust/">Java</a></li>
                    <li><a href="/learn/migration-guides/scala-to-rust/">Scala</a></li>
                    <li><a href="/learn/migration-guides/cpp-to-rust/">C++</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Connect</h3>
                <ul class="footer-links">
                    <li><a href="https://github.com/corrode">GitHub</a></li>
                    <li><a href="https://www.linkedin.com/company/corrode/">LinkedIn</a></li>
                    <li><a href="/legal/">Legal Notice</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        function getPreferredColorScheme() {
            let systemScheme = 'light';
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                systemScheme = 'dark';
            }
            let chosenScheme = systemScheme;

            if (localStorage.getItem("scheme")) {
                chosenScheme = localStorage.getItem("scheme");
            }

            if (systemScheme === chosenScheme) {
                localStorage.removeItem("scheme");
            }

            return chosenScheme;
        }

        function savePreferredColorScheme(scheme) {
            let systemScheme = 'light';

            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                systemScheme = 'dark';
            }

            if (systemScheme === scheme) {
                localStorage.removeItem("scheme");
            }
            else {
                localStorage.setItem("scheme", scheme);
            }
        }

        function toggleColorScheme() {
            let newScheme = "light";
            let scheme = getPreferredColorScheme();
            if (scheme === "light") {
                newScheme = "dark";
            }

            applyPreferredColorScheme(newScheme);
            savePreferredColorScheme(newScheme);
        }

        function applyPreferredColorScheme(scheme) {
            for (var s = 0; s < document.styleSheets.length; s++) {
                try {
                    var rules = document.styleSheets[s].cssRules;
                    for (var i = 0; i < rules.length; i++) {
                        var rule = rules[i];
                        if (rule && rule.media && rule.media.mediaText.includes("prefers-color-scheme")) {
                            switch (scheme) {
                                case "light":
                                    rule.media.appendMedium("original-prefers-color-scheme");
                                    if (rule.media.mediaText.includes("light")) rule.media.deleteMedium("(prefers-color-scheme: light)");
                                    if (rule.media.mediaText.includes("dark")) rule.media.deleteMedium("(prefers-color-scheme: dark)");
                                    break;
                                case "dark":
                                    rule.media.appendMedium("(prefers-color-scheme: light)");
                                    rule.media.appendMedium("(prefers-color-scheme: dark)");
                                    if (rule.media.mediaText.includes("original")) rule.media.deleteMedium("original-prefers-color-scheme");
                                    break;
                                default:
                                    rule.media.appendMedium("(prefers-color-scheme: dark)");
                                    if (rule.media.mediaText.includes("light")) rule.media.deleteMedium("(prefers-color-scheme: light)");
                                    if (rule.media.mediaText.includes("original")) rule.media.deleteMedium("original-prefers-color-scheme");
                                    break;
                            }
                        }
                    }
                } catch (e) {
                    // Ignore third-party stylesheets
                }
            }

            if (scheme === "dark") {
                document.getElementById("icon-moon").style.display = 'inline';
                document.getElementById("icon-sun").style.display = 'none';
            } else {
                document.getElementById("icon-sun").style.display = 'inline';
                document.getElementById("icon-moon").style.display = 'none';
            }
        }

        applyPreferredColorScheme(getPreferredColorScheme());
    </script>
</body>
</html>
